<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="hr">
	
	
<!-- 사원이 소속된 부서목록 조회 -->	
<select id="employeeDepartmentList" resultType="smart.hr.DepartmentVO">
SELECT  distinct department_id, NVL(department_name, '소속없음') department_name
FROM    employees e left outer join departments d
USING (department_id);
</select>
	
	
	
	
	
	
<!-- 전체 사원정보 조회 -->
<select id="list" resultType="smart.hr.EmployeeVO">
	SELECT  e.employee_id, e.last_name||' '||e.first_name AS name, e.hire_date,
        j.job_title,
        d.department_name
	FROM    employees e, jobs j , departments d
	WHERE   e.job_id = j.job_id
	AND     e.department_id = d.department_id(+)
	ORDER BY 1
</select>
	
	
</mapper>